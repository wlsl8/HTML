<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>아코디언메뉴</title>
    <link rel="stylesheet" href="css/스크립트21.css">
    <script src="lib/jquery-3.7.1.min.js"></script>
    <script>
        $(function(){
            //1 기능
            //1차 메뉴(.depth-01)를 클릭했을 때 실행 => 클릭한 요소의 형제인 2차 메뉴(.drpth-02)가 나타남(slideDown())
            $('.nav-01 .depth-01').on('click', function(){
                $('.nav-01 .depth-02').slideUp();  //순서중요 올리고 내릴 것인지 내리고 올릴 것인지
                $(this).siblings('.depth-02').slideDown();  //siblings=> 모든형제요소를 선택함 

                //모든 depth-01에게 클래스명 active삭제 removeClass('active')
                $('.nav-01 .depth-01').removeClass('active');
                //내가 클릭한 요소에게 클래스명 active 추가 addClass('active')
                $(this).addClass('active');
            });

            //2 기능
            //1차 메뉴(.depth-01)를 클릭했을 때 실행 => 클릭한 요소의 형제인 2차 메뉴(.drpth-02)가 슬라이드업/다운(slideToggle())
            $('.nav-02 .depth-01').on('click', function(){
                $(this).siblings('.depth-02').slideToggle();

                //내가 클릭한 요소(this)에게 클래스명 제어 -> toggleClass('active')
                $(this).toggleClass('active');
            });

            //3 기능
            //1차 메뉴(.depth-01)를 클릭했을 때 실행 
            //<조건식> 클릭한 요소의 형제인 2차 메뉴(.drpth-02)가 display값이 none일때 실행
            //2차 메뉸느 slideUp()
            //내가 클릭한 요소의 형제 선택자 .depth-02는 slideDown()
            //<조건이 맞지 않을 때>
            //내가 클릭한 요소의 형제 선택자 .depth-02는 slideUp()
            $('.nav-03 .depth-01').on('click', function(){
                if($(this).siblings('.depth-02').css('display')=='none'){
                    $('.nav-03 .depth-02').slideUp();
                    $(this).siblings('.depth-02').slideDown();

                    $('.nav-03 .depth-02').removeClass('active');
                    $(this).addClass('active');
                }
                else{
                    $(this).siblings('.depth-02').slideUp();
                    
                    $(this).removeClass('active');
                    $('.nav-03 .depth-02').addClass('active');
                }
            });
        });
    </script>
</head>
<body>
    <div class="nav_wrap">
        <nav class="nav nav-01">
            <ul class="gnb">
                <li>
                    <a href="#" class="depth-01">menu1</a>
                    <ul class="depth-02">
                        <li><a href="#">menu1-1</a></li>
                        <li><a href="#">menu1-2</a></li>
                        <li><a href="#">menu1-3</a></li>
                        <li><a href="#">menu1-4</a></li>
                        <li><a href="#">menu1-5</a></li>
                    </ul><!-- .depth-02 end -->
                </li>
                <li>
                    <a href="#" class="depth-01">menu2</a>
                    <ul class="depth-02">
                        <li><a href="#">menu2-1</a></li>
                        <li><a href="#">menu2-2</a></li>
                        <li><a href="#">menu2-3</a></li>
                        <li><a href="#">menu2-4</a></li>
                        <li><a href="#">menu2-5</a></li>
                    </ul><!-- .depth-02 end -->
                </li>
                <li>
                    <a href="#" class="depth-01">menu3</a>
                    <ul class="depth-02">
                        <li><a href="#">menu3-1</a></li>
                        <li><a href="#">menu3-2</a></li>
                        <li><a href="#">menu3-3</a></li>
                        <li><a href="#">menu3-4</a></li>
                        <li><a href="#">menu3-5</a></li>
                    </ul><!-- .depth-02 end -->
                </li>
            </ul><!-- .gnb end -->
        </nav><!-- .nav .nav-01 end -->

        <nav class="nav nav-02">
            <ul class="gnb">
                <li>
                    <a href="#" class="depth-01">menu1</a>
                    <ul class="depth-02">
                        <li><a href="#">menu1-1</a></li>
                        <li><a href="#">menu1-2</a></li>
                        <li><a href="#">menu1-3</a></li>
                        <li><a href="#">menu1-4</a></li>
                        <li><a href="#">menu1-5</a></li>
                    </ul><!-- .depth-02 end -->
                </li>
                <li>
                    <a href="#" class="depth-01">menu2</a>
                    <ul class="depth-02">
                        <li><a href="#">menu2-1</a></li>
                        <li><a href="#">menu2-2</a></li>
                        <li><a href="#">menu2-3</a></li>
                        <li><a href="#">menu2-4</a></li>
                        <li><a href="#">menu2-5</a></li>
                    </ul><!-- .depth-02 end -->
                </li>
                <li>
                    <a href="#" class="depth-01">menu3</a>
                    <ul class="depth-02">
                        <li><a href="#">menu3-1</a></li>
                        <li><a href="#">menu3-2</a></li>
                        <li><a href="#">menu3-3</a></li>
                        <li><a href="#">menu3-4</a></li>
                        <li><a href="#">menu3-5</a></li>
                    </ul><!-- .depth-02 end -->
                </li>
            </ul><!-- .gnb end -->
        </nav><!-- .nav .nav-02 end -->

        <nav class="nav nav-03">
            <ul class="gnb">
                <li>
                    <a href="#" class="depth-01">menu1</a>
                    <ul class="depth-02">
                        <li><a href="#">menu1-1</a></li>
                        <li><a href="#">menu1-2</a></li>
                        <li><a href="#">menu1-3</a></li>
                        <li><a href="#">menu1-4</a></li>
                        <li><a href="#">menu1-5</a></li>
                    </ul><!-- .depth-02 end -->
                </li>
                <li>
                    <a href="#" class="depth-01">menu2</a>
                    <ul class="depth-02">
                        <li><a href="#">menu2-1</a></li>
                        <li><a href="#">menu2-2</a></li>
                        <li><a href="#">menu2-3</a></li>
                        <li><a href="#">menu2-4</a></li>
                        <li><a href="#">menu2-5</a></li>
                    </ul><!-- .depth-02 end -->
                </li>
                <li>
                    <a href="#" class="depth-01">menu3</a>
                    <ul class="depth-02">
                        <li><a href="#">menu3-1</a></li>
                        <li><a href="#">menu3-2</a></li>
                        <li><a href="#">menu3-3</a></li>
                        <li><a href="#">menu3-4</a></li>
                        <li><a href="#">menu3-5</a></li>
                    </ul><!-- .depth-02 end -->
                </li>
            </ul><!-- .gnb end -->
        </nav><!-- .nav .nav-03 end -->
    </div><!-- .nav_wrap end -->
</body>
</html>